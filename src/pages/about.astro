---

---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Astro</title>
	</head>
	<body>
		<a href="/">home</a>
		<h1>About</h1>
		<p>Hello i am also rendered by a service worker</p>
		<p>I also work when offline!</p>
	</body>
	<script>
		navigator.serviceWorker.register('/sw.js');
		let refreshing = false;

		navigator.serviceWorker.addEventListener('controllerchange', () => {
			if (refreshing) return;
			window.location.reload();
			refreshing = true;
		});
	</script>
</html>